let courseGrid=document.getElementById("courses-grid"),categories=document.querySelectorAll(".category"),searchForm=document.getElementById("search-form"),coursesMain=document.getElementById("courses-main"),notIncluded=document.querySelector("#not-included");if(searchForm){function search(e){searchForm.addEventListener("input",function(t){e(t.target.value)})}function onCategorySelect(e){categories.forEach(t=>{t.addEventListener("click",function(){e(this.textContent)})})}function displayCourses(e){if(courseGrid){courseGrid.innerHTML="",notIncluded&&notIncluded.remove(),e.forEach(e=>{let t=document.createElement("div");t.classList.add("courses-grid-item"),courseGrid.appendChild(t),t.dataset.courseId=e.course_id;let n=document.createElement("img");n.classList.add("courses-grid-item-img"),n.src=`../assets/images/courses/${e.image}`,n.alt=`${e.course_title} icon`,t.appendChild(n);let s=document.createElement("div");s.classList.add("courses-grid-item-content"),t.appendChild(s);let o=document.createElement("p");o.classList.add("courses-grid-item-content-title"),o.textContent=`${e.course_title}`,s.appendChild(o);let d=document.createElement("p");d.classList.add("courses-grid-item-content-paragraph"),d.textContent=`${e.level}`,s.appendChild(d);let c=document.createElement("span");c.classList.add("courses-grid-item-informations");let i=document.createElement("div");i.classList.add("courses-item-informations"),c.appendChild(i);let r=document.createElement("img");r.src="../assets/images/videoIcon.png",r.alt="video demanad icon",r.style.paddingRight="5px",i.appendChild(r);let a=document.createElement("p");a.textContent=`${e.content_duration}`,i.append(a),s.appendChild(c);let l=document.createElement("div");l.classList.add("courses-item-informations"),c.appendChild(i);let u=document.createElement("img");u.src="../assets/images/rate-review.png",u.alt="rate review icon",u.style.paddingRight="5px",l.appendChild(u);let m=document.createElement("p");m.textContent=`${e.num_reviews} Reviews`,l.append(m),c.appendChild(l)});let t=document.querySelectorAll(".courses-grid-item");t&&t.forEach(e=>{e.addEventListener("click",e=>{if(e.target.closest(".courses-grid-item")){const t=e.target.closest(".courses-grid-item"),n=t.dataset.courseId;localStorage.setItem("courseId",n),window.location.href="../courseDetails/courseDetails.html"}})})}}fetch("../database/courseDataSet.json").then(e=>e.json()).then(e=>{search(t=>{const n=e.filter(e=>e.main_technology.toLowerCase().includes(t));if(0!==n.length)displayCourses(n);else{courseGrid.innerHTML="",notIncluded&&notIncluded.remove(),notIncluded=document.createElement("p"),notIncluded.id="not-included";let e=document.createElement("span");e.style.fontWeight="bold",e.textContent=`${t}.`,notIncluded.textContent="Oops! We couldnâ€™t find any courses matching with ",notIncluded.appendChild(e),coursesMain.appendChild(notIncluded)}});let t=localStorage.getItem("category");if(t){const n=e.filter(e=>e.category===t);displayCourses(n),localStorage.removeItem("category")}else displayCourses(e);onCategorySelect(t=>{if("All courses"===t)displayCourses(e);else{const n=e.filter(e=>e.category===t);displayCourses(n)}})})}